"""
Dashboard HTML æ¨¡æ¿ - å¸¦ç‰ˆæœ¬Tab

åªåœ¨é¡¶éƒ¨å¢åŠ ç‰ˆæœ¬åˆ‡æ¢Tabï¼Œå…¶ä»–å†…å®¹å®Œå…¨ä¿æŒ
"""


def get_dashboard_html(title: str, subtitle: str) -> str:
    """è·å– Dashboard HTML"""
    return f"""
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{title}</title>
    <style>
        * {{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }}
        
        :root {{
            /* é»‘ç™½çº¢ä¸‰è‰²ä½“ç³» */
            --black: #000000;
            --gray-900: #212121;
            --gray-800: #424242;
            --gray-700: #616161;
            --gray-600: #757575;
            --gray-500: #9E9E9E;
            --gray-400: #BDBDBD;
            --gray-300: #E0E0E0;
            --gray-200: #EEEEEE;
            --gray-100: #F5F5F5;
            --white: #FFFFFF;
            --red: #D32F2F;
            
            /* ç©ºé—´ç³»ç»Ÿ */
            --space-2: 8px;
            --space-4: 16px;
            --space-6: 24px;
            --space-8: 32px;
            --space-12: 48px;
            --space-16: 64px;
            
            /* é˜´å½± */
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            
            /* å­—ä½“ */
            --font-primary: 'Helvetica Neue', 'Arial', sans-serif;
            --font-chinese: 'Microsoft YaHei', 'å¾®è½¯é›…é»‘', sans-serif;
            --font-mono: 'Consolas', 'Monaco', monospace;
        }}
        
        body {{
            font-family: var(--font-primary);
            background: var(--white);
            color: var(--gray-900);
            line-height: 1.6;
            padding: 40px 60px;
            min-height: 100vh;
        }}
        
        .container {{
            max-width: 1400px;
            margin: 0 auto;
        }}
        
        /* é¡µé¢æ ‡é¢˜ */
        .page-header {{
            padding: 0 0 32px 0;
            margin-bottom: 32px;
            border-bottom: 1px solid var(--gray-300);
        }}
        
        /* å“ç‰Œæ ‡é¢˜åŒºåŸŸï¼ˆå›ºå®šï¼‰ */
        .brand-header {{
            padding-bottom: 48px;  /* å“ç‰Œå’Œé¡¹ç›®ä¹‹é—´çš„ç•™ç™½ */
            margin-bottom: 48px;   /* å“ç‰Œå’Œé¡¹ç›®ä¹‹é—´çš„ç•™ç™½ */
        }}
        
        .brand-title {{
            font-size: 40px;
            font-weight: 700;
            color: var(--black);
            font-family: var(--font-chinese);
            margin-bottom: 12px;
            line-height: 1.2;
        }}
        
        .brand-slogan {{
            font-size: 13px;
            color: var(--gray-700);
            line-height: 1.6;
        }}
        
        /* é¡¹ç›®ä¿¡æ¯åŒºåŸŸ */
        .project-header {{
            padding-bottom: 32px;
            margin-bottom: 32px;
            border-bottom: 1px solid var(--gray-300);
            position: relative;
        }}
        
        .project-info {{
            display: flex;
            flex-direction: column;
            gap: 8px;
        }}
        
        .project-label {{
            font-size: 10px;
            font-weight: 500;
            color: var(--gray-600);
            letter-spacing: 3px;
            text-transform: uppercase;
        }}
        
        .project-name {{
            font-size: 32px;
            font-weight: 700;
            color: var(--black);
            font-family: var(--font-chinese);
            line-height: 1.2;
            text-transform: uppercase;
        }}
        
        .project-desc {{
            font-size: 13px;
            color: var(--gray-700);
            line-height: 1.6;
        }}
        
        .project-badge {{
            font-size: 10px;
            font-weight: 500;
            color: var(--gray-600);
            letter-spacing: 3px;
            text-transform: uppercase;
            margin-bottom: 16px;
            display: block;
        }}
        
        .page-title {{
            font-size: 40px;
            font-weight: 700;
            color: var(--black);
            font-family: var(--font-chinese);
            margin-bottom: 12px;
            line-height: 1.2;
        }}
        
        .page-subtitle {{
            font-size: 13px;
            color: var(--gray-700);
            margin-bottom: 16px;
        }}
        
        .page-description {{
            font-size: 12px;
            color: var(--gray-600);
            line-height: 1.8;
        }}
        
        .status-pill {{
            position: absolute;
            top: 48px;
            right: 60px;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 12px;
            background: var(--red);
            color: white;
            font-family: var(--font-mono);
            font-size: 10px;
            font-weight: 500;
            letter-spacing: 1px;
        }}
        
        .status-dot {{
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: white;
            animation: pulse 2s infinite;
        }}
        
        @keyframes pulse {{
            0%, 100% {{ opacity: 1; }}
            50% {{ opacity: 0.4; }}
        }}
        
        /* ç‰ˆæœ¬Tabï¼ˆæµè§ˆå™¨æ ‡ç­¾é¡µé£æ ¼ï¼‰ */
        .version-tabs {{
            display: flex;
            gap: 4px;
            margin-bottom: 0;
            border-bottom: 1px solid var(--gray-300);
        }}
        
        .version-tab {{
            font-family: var(--font-chinese);
            background: var(--gray-100);
            border: 1px solid var(--gray-300);
            border-bottom: none;
            padding: 12px 24px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            gap: 4px;
            align-items: flex-start;
            border-radius: 4px 4px 0 0;
        }}
        
        .version-tab:hover {{
            background: var(--white);
        }}
        
        .version-tab.active {{
            background: var(--white);
            border-bottom: 2px solid var(--white);
            margin-bottom: -1px;
            z-index: 1;
            position: relative;
        }}
        
        .tab-label {{
            font-size: 13px;
            font-weight: 600;
            color: var(--black);
        }}
        
        .tab-subtitle {{
            font-size: 11px;
            color: var(--gray-600);
        }}
        
        .version-tab.active .tab-subtitle {{
            color: var(--red);
        }}
        
        /* ç‰ˆæœ¬ä¿¡æ¯æ¡† */
        .version-info {{
            padding: 24px 32px;
            background: var(--gray-100);
            margin-bottom: 48px;
        }}
        
        .version-name {{
            font-size: 17px;
            font-weight: 700;
            color: var(--black);
            font-family: var(--font-chinese);
            margin-bottom: 12px;
        }}
        
        .version-description {{
            font-size: 13px;
            color: var(--gray-700);
            line-height: 1.8;
        }}
        
        /* UX/UIç¡®è®¤æ¨¡å— */
        .confirmation-section {{
            background: var(--white);
            border: 1px solid var(--gray-300);
            border-top: 2px solid var(--black);
            padding: 32px;
            margin-bottom: 48px;
        }}
        
        .confirmation-header {{
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }}
        
        .confirmation-title {{
            font-size: 14px;
            font-weight: 700;
            color: var(--black);
            font-family: 'Helvetica Neue', Arial, sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
        }}
        
        .confirmation-status {{
            font-family: var(--font-mono);
            font-size: 10px;
            padding: 6px 12px;
            background: var(--gray-100);
            color: var(--gray-700);
            border: 1px solid var(--gray-300);
            letter-spacing: 1px;
        }}
        
        .confirmation-status.pending {{
            background: #FFF3E0;
            color: var(--red);
            border-color: var(--red);
        }}
        
        .confirmation-status.approved {{
            background: var(--black);
            color: var(--white);
            border-color: var(--black);
        }}
        
        /* Tabåˆ‡æ¢ */
        .confirmation-tabs {{
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            border-bottom: 1px solid var(--gray-300);
        }}
        
        .confirmation-tab {{
            font-family: var(--font-chinese);
            font-size: 13px;
            font-weight: 600;
            color: var(--gray-600);
            padding: 12px 24px;
            cursor: pointer;
            border: none;
            background: transparent;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }}
        
        .confirmation-tab:hover {{
            color: var(--black);
        }}
        
        .confirmation-tab.active {{
            color: var(--black);
            border-bottom-color: var(--red);
        }}
        
        /* å›¾ç‰‡å±•ç¤ºåŒº */
        .images-grid {{
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-bottom: 32px;
        }}
        
        .image-item {{
            border: 1px solid var(--gray-300);
            cursor: pointer;
            transition: all 0.3s;
            background: var(--white);
        }}
        
        .image-item:hover {{
            border-color: var(--black);
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }}
        
        .image-preview {{
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
            border-bottom: 1px solid var(--gray-300);
        }}
        
        .image-label {{
            font-size: 13px;
            font-weight: 600;
            color: var(--black);
            padding: 16px;
            font-family: var(--font-chinese);
        }}
        
        /* æç¤ºè¯æ˜¾ç¤ºåŒº */
        .prompt-content {{
            background: var(--gray-100);
            border: 1px solid var(--gray-300);
            padding: 24px;
            margin-bottom: 32px;
            font-family: var(--font-mono);
            font-size: 12px;
            line-height: 1.8;
            color: var(--gray-900);
            white-space: pre-wrap;
        }}
        
        /* ç¡®è®¤æŒ‰é’® */
        .confirm-button-container {{
            display: flex;
            justify-content: flex-end;
            padding-top: 24px;
            border-top: 1px solid var(--gray-300);
        }}
        
        .confirm-button {{
            font-family: var(--font-chinese);
            font-size: 13px;
            font-weight: 600;
            color: var(--white);
            background: var(--red);
            border: none;
            padding: 12px 32px;
            cursor: pointer;
            transition: all 0.3s;
        }}
        
        .confirm-button:hover {{
            background: var(--black);
            box-shadow: var(--shadow-md);
        }}
        
        .confirm-button:disabled {{
            background: var(--gray-400);
            cursor: not-allowed;
        }}
        
        /* å›¾ç‰‡ç¯ç®±ï¼ˆç‚¹å‡»æ”¾å¤§ï¼‰ */
        .lightbox {{
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }}
        
        .lightbox.active {{
            display: flex;
        }}
        
        .lightbox-image {{
            max-width: 90%;
            max-height: 90%;
            border: 2px solid var(--white);
        }}
        
        .lightbox-close {{
            position: absolute;
            top: 24px;
            right: 24px;
            font-size: 32px;
            color: var(--white);
            cursor: pointer;
            background: none;
            border: none;
        }}
        
        .empty-state {{
            font-size: 13px;
            color: var(--gray-500);
            text-align: center;
            padding: 48px;
            font-family: var(--font-chinese);
        }}
        
        /* ===== æ¶æ„å¸ˆç›‘æ§æ¨¡å— ===== */
        
        .architect-monitor {{
            background: var(--white);
            border: 1px solid var(--gray-300);
            border-top: 2px solid var(--black);
            padding: 32px;
            margin-bottom: 48px;
        }}
        
        .architect-header {{
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 24px;
        }}
        
        .architect-title-section {{
            display: flex;
            flex-direction: column;
            gap: 8px;
        }}
        
        .architect-title {{
            font-size: 14px;
            font-weight: 700;
            color: var(--black);
            font-family: 'Helvetica Neue', Arial, sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
        }}
        
        .architect-status {{
            font-size: 12px;
            color: var(--gray-700);
            display: flex;
            align-items: center;
            gap: 8px;
        }}
        
        .status-dot-architect {{
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4CAF50;
            display: inline-block;
        }}
        
        .architect-stats {{
            text-align: right;
        }}
        
        .token-info {{
            font-family: var(--font-mono);
            font-size: 12px;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 4px;
        }}
        
        .token-info.warning {{
            color: var(--red);
        }}
        
        .architect-meta {{
            font-size: 11px;
            color: var(--gray-600);
        }}
        
        /* æ¶æ„å¸ˆTab */
        .architect-tabs {{
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            border-bottom: 1px solid var(--gray-300);
        }}
        
        .architect-tab {{
            font-family: var(--font-chinese);
            font-size: 13px;
            font-weight: 600;
            color: var(--gray-600);
            padding: 12px 24px;
            cursor: pointer;
            border: none;
            background: transparent;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }}
        
        .architect-tab:hover {{
            color: var(--black);
        }}
        
        .architect-tab.active {{
            color: var(--black);
            border-bottom-color: var(--red);
        }}
        
        /* Tabå†…å®¹åŒº */
        .architect-tab-content {{
            display: none;
        }}
        
        .architect-tab-content.active {{
            display: block;
        }}
        
        /* äº‹ä»¶æµæ¸…å• */
        .event-timeline {{
            background: var(--gray-100);
            border: 1px solid var(--gray-300);
            padding: 24px;
            max-height: 400px;
            overflow-y: auto;
        }}
        
        .event-item {{
            display: flex;
            gap: 16px;
            padding: 12px 0;
            border-bottom: 1px solid var(--gray-300);
            font-family: var(--font-mono);
            font-size: 12px;
            line-height: 1.6;
        }}
        
        .event-item:last-child {{
            border-bottom: none;
        }}
        
        .event-time {{
            color: var(--gray-600);
            white-space: nowrap;
            font-weight: 500;
        }}
        
        .event-content {{
            color: var(--gray-900);
            flex: 1;
        }}
        
        .event-icon {{
            font-size: 14px;
        }}
        
        /* æç¤ºè¯æ˜¾ç¤º */
        .prompt-display {{
            background: var(--gray-100);
            border: 1px solid var(--gray-300);
            padding: 24px;
            font-family: var(--font-mono);
            font-size: 12px;
            line-height: 1.8;
            color: var(--gray-900);
            white-space: pre-wrap;
            max-height: 500px;
            overflow-y: auto;
        }}
        
        .prompt-header {{
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }}
        
        .prompt-label {{
            font-size: 13px;
            font-weight: 700;
            color: var(--black);
            font-family: var(--font-chinese);
        }}
        
        .copy-button {{
            font-size: 11px;
            padding: 6px 12px;
            background: var(--black);
            color: var(--white);
            border: none;
            cursor: pointer;
            font-family: var(--font-chinese);
            transition: all 0.3s;
        }}
        
        .copy-button:hover {{
            background: var(--red);
        }}
        
        /* é‡è¦ä¿¡æ¯åŒºåŸŸï¼ˆå·¦å³åˆ†æ ï¼‰ */
        .info-panel {{
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 24px;
            min-height: 400px;
        }}
        
        .info-sidebar {{
            border-right: 1px solid var(--gray-300);
            padding-right: 24px;
        }}
        
        .info-doc-list {{
            display: flex;
            flex-direction: column;
            gap: 8px;
        }}
        
        .info-doc-item {{
            padding: 12px 16px;
            border: 1px solid var(--gray-300);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 12px;
            font-family: var(--font-chinese);
            color: var(--gray-900);
            background: var(--white);
        }}
        
        .info-doc-item:hover {{
            border-color: var(--black);
            background: var(--gray-100);
        }}
        
        .info-doc-item.active {{
            background: var(--black);
            color: var(--white);
            border-color: var(--black);
        }}
        
        .info-doc-icon {{
            margin-right: 8px;
        }}
        
        .info-content {{
            background: var(--gray-100);
            border: 1px solid var(--gray-300);
            padding: 24px;
            overflow-y: auto;
            max-height: 400px;
        }}
        
        .info-content-title {{
            font-size: 16px;
            font-weight: 700;
            color: var(--black);
            font-family: var(--font-chinese);
            margin-bottom: 16px;
        }}
        
        .info-content-body {{
            font-size: 13px;
            line-height: 1.8;
            color: var(--gray-900);
            white-space: pre-wrap;
        }}
        
        /* æ»šåŠ¨æ¡æ ·å¼ */
        .event-timeline::-webkit-scrollbar,
        .prompt-display::-webkit-scrollbar,
        .info-content::-webkit-scrollbar {{
            width: 8px;
        }}
        
        .event-timeline::-webkit-scrollbar-track,
        .prompt-display::-webkit-scrollbar-track,
        .info-content::-webkit-scrollbar-track {{
            background: var(--gray-200);
        }}
        
        .event-timeline::-webkit-scrollbar-thumb,
        .prompt-display::-webkit-scrollbar-thumb,
        .info-content::-webkit-scrollbar-thumb {{
            background: var(--gray-500);
        }}
        
        .event-timeline::-webkit-scrollbar-thumb:hover,
        .prompt-display::-webkit-scrollbar-thumb:hover,
        .info-content::-webkit-scrollbar-thumb:hover {{
            background: var(--gray-700);
        }}
        
        /* ç»Ÿè®¡å¡ç‰‡ */
        .stats-grid {{
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
            margin-bottom: 48px;
        }}
        
        .stat-card {{
            background: var(--white);
            border: 1px solid var(--gray-300);
            border-top: 2px solid var(--black);
            padding: 32px 24px;
            transition: all 0.3s;
        }}
        
        .stat-card:hover {{
            border-color: var(--black);
            box-shadow: var(--shadow-lg);
            transform: translateY(-4px);
        }}
        
        .stat-label {{
            font-size: 10px;
            color: var(--gray-600);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 16px;
            font-weight: 500;
        }}
        
        .stat-value {{
            font-size: 48px;
            font-weight: 300;
            color: var(--black);
            line-height: 1;
            margin-bottom: 12px;
        }}
        
        .stat-meta {{
            font-size: 12px;
            color: var(--gray-500);
        }}
        
        /* è¿›åº¦æ¡ */
        .progress-section {{
            padding: 32px 0;
            margin-bottom: 48px;
            border-bottom: 1px solid var(--gray-300);
        }}
        
        .section-header {{
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 48px;
        }}
        
        .section-title {{
            font-size: 14px;
            font-weight: 700;
            color: var(--black);
            font-family: 'Helvetica Neue', Arial, sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
        }}
        
        .progress-value {{
            font-size: 24px;
            font-weight: 500;
            color: var(--red);
        }}
        
        .progress-bar {{
            height: 3px;
            background: var(--gray-200);
            overflow: hidden;
        }}
        
        .progress-fill {{
            height: 100%;
            background: var(--red);
            transition: width 0.8s;
        }}
        
        /* åŠŸèƒ½æ¸…å• */
        .features-section {{
            padding: 32px 0;
            margin-bottom: 48px;
            border-bottom: 1px solid var(--gray-300);
        }}
        
        .features-grid {{
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 32px;
            margin-top: 32px;
        }}
        
        .feature-group {{
            background: var(--white);
            border: 1px solid var(--gray-300);
            padding: 24px;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s;
        }}
        
        .feature-group:hover {{
            border-color: var(--black);
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }}
        
        .feature-group-title {{
            font-size: 13px;
            font-weight: 700;
            color: var(--black);
            font-family: var(--font-chinese);
            margin-bottom: 20px;
        }}
        
        .feature-item {{
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 8px 0;
            font-size: 13px;
        }}
        
        .feature-item[data-status="completed"] {{
            color: var(--black);
            font-weight: 500;
        }}
        
        .feature-item[data-status="pending"] {{
            color: var(--gray-400);
        }}
        
        .feature-checkbox {{
            font-size: 14px;
            flex-shrink: 0;
            margin-top: 2px;
        }}
        
        .feature-content {{
            flex: 1;
        }}
        
        .feature-name {{
            display: block;
            margin-bottom: 4px;
        }}
        
        .feature-description {{
            font-size: 11px;
            color: var(--gray-500);
            line-height: 1.5;
        }}
        
        /* ä»»åŠ¡åˆ—è¡¨ */
        .tasks-section {{
            padding: 32px 0;
        }}
        
        .task-card {{
            background: var(--white);
            border: 1px solid var(--gray-300);
            padding: 32px;
            margin-bottom: 48px;
            transition: all 0.3s;
        }}
        
        .task-card:hover {{
            border-color: var(--black);
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }}
        
        .task-card-header {{
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }}
        
        .task-id {{
            font-family: var(--font-mono);
            font-size: 11px;
            color: white;
            font-weight: 500;
            background: var(--black);
            padding: 6px 12px;
            letter-spacing: 1.5px;
        }}
        
        .task-status {{
            font-family: var(--font-mono);
            font-size: 10px;
            padding: 6px 12px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            border: 1px solid;
        }}
        
        .task-status.pending {{
            background: var(--gray-100);
            color: var(--gray-700);
            border-color: var(--gray-300);
        }}
        
        .task-status.in_progress {{
            background: var(--red);
            color: white;
            border-color: var(--red);
        }}
        
        .task-status.completed {{
            background: var(--black);
            color: white;
            border-color: var(--black);
        }}
        
        .task-title {{
            font-size: 20px;
            font-weight: 400;
            color: var(--black);
            margin-bottom: 16px;
            line-height: 1.4;
        }}
        
        .task-feature {{
            font-size: 13px;
            color: var(--gray-700);
            margin-bottom: 48px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--gray-200);
        }}
        
        .feature-label {{
            color: var(--gray-600);
            font-weight: 500;
            margin-right: 8px;
        }}
        
        .feature-value {{
            color: var(--black);
            font-weight: 500;
        }}
        
        .task-details {{
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }}
        
        .detail-item {{
            display: flex;
            flex-direction: column;
            gap: 4px;
        }}
        
        .detail-label {{
            font-size: 11px;
            color: var(--gray-600);
            font-weight: 500;
        }}
        
        .detail-value {{
            font-size: 13px;
            color: var(--gray-900);
            font-weight: 500;
        }}
        
        .update-time {{
            position: fixed;
            bottom: 32px;
            right: 60px;
            font-family: var(--font-mono);
            font-size: 10px;
            color: var(--gray-500);
            letter-spacing: 1px;
        }}
        
        @media (max-width: 1200px) {{
            .stats-grid {{ grid-template-columns: repeat(2, 1fr); }}
            .features-grid {{ grid-template-columns: repeat(2, 1fr); }}
        }}
    </style>
</head>
<body>
    <div class="container">
        <!-- å“ç‰Œæ ‡è¯†ï¼ˆå›ºå®šï¼‰ -->
        <div class="brand-header">
            <h1 class="brand-title">ä»»åŠ¡æ‰€Â·Flow</h1>
            <div class="brand-slogan">ç”¨å¯¹è¯ï¼Œå¼€å·¥ï¼›ç”¨æµç¨‹ï¼Œæ”¶å·¥ã€‚AIå†™ä»£ç æ–°èŒƒå¼</div>
        </div>
        
        <!-- é¡¹ç›®ä¿¡æ¯ -->
        <div class="project-header">
            <div class="project-info">
                <span class="project-label">å½“å‰é¡¹ç›®</span>
                <h2 class="project-name">{title}</h2>
                <div class="project-desc">{subtitle}</div>
            </div>
            <div class="status-pill">
                <div class="status-dot"></div>
                <span>ONLINE</span>
            </div>
        </div>
        
        <!-- ç‰ˆæœ¬åˆ‡æ¢Tab -->
        <div class="version-tabs" id="versionTabs">
            <button class="version-tab active" data-version="v1">
                <span class="tab-label">ç‰ˆæœ¬ 1</span>
                <span class="tab-subtitle">MVPåŸºç¡€</span>
            </button>
            <button class="version-tab" data-version="v2">
                <span class="tab-label">ç‰ˆæœ¬ 2</span>
                <span class="tab-subtitle">æ’ä»¶ç”Ÿæ€</span>
            </button>
            <button class="version-tab" data-version="v3">
                <span class="tab-label">ç‰ˆæœ¬ 3</span>
                <span class="tab-subtitle">é«˜çº§ç‰¹æ€§</span>
            </button>
        </div>
        
        <!-- ç‰ˆæœ¬æè¿° -->
        <div class="version-info" id="versionInfo">
            <div class="version-name">ç‰ˆæœ¬ 1.0 - MVP</div>
            <div class="version-description">LibreChat Desktop é¦–ä¸ªç‰ˆæœ¬ï¼Œå®ç°æ ¸å¿ƒæ¡Œé¢æ¡†æ¶å’ŒåŸºç¡€åŠŸèƒ½</div>
        </div>
        
        <!-- ä»¥ä¸‹æ˜¯åŸæœ‰çš„å®Œæ•´å†…å®¹ -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">æ€»ä»»åŠ¡æ•°</div>
                <div class="stat-value" id="totalTasks">â€”</div>
                <div class="stat-meta">Total Tasks</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">å¾…å¤„ç†</div>
                <div class="stat-value" id="pendingTasks">â€”</div>
                <div class="stat-meta">Pending</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">è¿›è¡Œä¸­</div>
                <div class="stat-value" id="inProgressTasks">â€”</div>
                <div class="stat-meta">In Progress</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">å·²å®Œæˆ</div>
                <div class="stat-value" id="completedTasks">â€”</div>
                <div class="stat-meta">Completed</div>
            </div>
        </div>
        
        <div class="progress-section">
            <div class="section-header">
                <span class="section-title">OVERALL PROGRESS</span>
                <span class="progress-value" id="progressValue">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%"></div>
            </div>
        </div>
        
        <div class="features-section">
            <div class="section-header">
                <span class="section-title">KEY FEATURES</span>
                <span class="stat-meta" id="featureCount">0/12 å·²å®ç°</span>
            </div>
            <div class="features-grid">
                <div class="feature-group">
                    <div class="feature-group-title">ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¡†æ¶</div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">Electron æ¡Œé¢æ¡†æ¶</span>
                            <span class="feature-description">Vite + React + TypeScript</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">LibreChat å¯¹è¯é›†æˆ</span>
                            <span class="feature-description">Webview åµŒå…¥å¯¹è¯ç•Œé¢</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">é¡¹ç›®ç®¡ç†ç³»ç»Ÿ</span>
                            <span class="feature-description">é¡¹ç›®CRUD + æœ¬åœ°å­˜å‚¨</span>
                        </div>
                    </div>
                </div>
                <div class="feature-group">
                    <div class="feature-group-title">ç¬¬äºŒé˜¶æ®µï¼šäº‘ç«¯é›†æˆ</div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">AWS SSO è®¤è¯</span>
                            <span class="feature-description">å•ç‚¹ç™»å½• + å‡­è¯ç®¡ç†</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">MCP å·¥å…·æ¡¥æ¥</span>
                            <span class="feature-description">IPC é€šä¿¡ + å·¥å…·è°ƒç”¨</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">æœ¬åœ°å·¥å…·è°ƒç”¨</span>
                            <span class="feature-description">æ–‡ä»¶ç³»ç»Ÿ + Shell å‘½ä»¤</span>
                        </div>
                    </div>
                </div>
                <div class="feature-group">
                    <div class="feature-group-title">ç¬¬ä¸‰é˜¶æ®µï¼šæ’ä»¶ä½“ç³»</div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">æ’ä»¶åŠ è½½å™¨</span>
                            <span class="feature-description">åŠ¨æ€åŠ è½½ + æ²™ç®±éš”ç¦»</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">æ ¸å¿ƒæ’ä»¶é›†</span>
                            <span class="feature-description">AWS + GitHub + Memory</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">æ’ä»¶å¸‚åœº</span>
                            <span class="feature-description">æµè§ˆ + å®‰è£… + æ›´æ–°</span>
                        </div>
                    </div>
                </div>
                <div class="feature-group">
                    <div class="feature-group-title">ç¬¬å››é˜¶æ®µï¼šé«˜çº§ç‰¹æ€§</div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">Artifacts ç³»ç»Ÿ</span>
                            <span class="feature-description">ä»£ç  + æ–‡æ¡£ + å›¾è¡¨</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">ä»»åŠ¡ç™½æ¿é›†æˆ</span>
                            <span class="feature-description">ä»»åŠ¡ç®¡ç† + å¯¹è¯å…³è”</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">å¤šçª—å£ç®¡ç†</span>
                            <span class="feature-description">å¹¶è¡Œå¼€å‘ + çŠ¶æ€åŒæ­¥</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tasks-section">
            <div class="section-header">
                <span class="section-title">TASK LIST</span>
                <span class="stat-meta" id="taskCount">0 tasks</span>
            </div>
            <div class="task-list" id="taskList">
                <div class="empty-state">Loading...</div>
            </div>
        </div>
        
        <!-- æ¶æ„å¸ˆç›‘æ§æ¨¡å— -->
        <div class="architect-monitor" id="architectMonitor">
            <div class="architect-header">
                <div class="architect-title-section">
                    <span class="architect-title">ğŸ§  ARCHITECT MONITOR</span>
                    <div class="architect-status">
                        <span class="status-dot-architect"></span>
                        <span id="architectStatusText">å·¥ä½œä¸­</span>
                        <span style="color: var(--gray-500);">|</span>
                        <span id="architectTasksCount">å·²å®¡æŸ¥ 0 ä¸ªä»»åŠ¡</span>
                    </div>
                </div>
                <div class="architect-stats">
                    <div class="token-info" id="tokenInfo">
                        ğŸ”‹ Tokenä½™é‡: <span id="tokenUsed">0</span> / 1,000,000 
                        (<span id="tokenPercent">0</span>%)
                    </div>
                    <div class="architect-meta">
                        æœ€åæ›´æ–°: <span id="lastUpdate">--:--:--</span>
                    </div>
                </div>
            </div>
            
            <div class="architect-tabs">
                <button class="architect-tab active" onclick="switchArchitectTab('events')">
                    äº‹ä»¶æµæ¸…å•
                </button>
                <button class="architect-tab" onclick="switchArchitectTab('prompt')">
                    åŠ¨æ€æç¤ºè¯
                </button>
                <button class="architect-tab" onclick="switchArchitectTab('notes')">
                    é‡è¦ä¿¡æ¯
                </button>
            </div>
            
            <!-- Tab 1: äº‹ä»¶æµæ¸…å• -->
            <div class="architect-tab-content active" id="architectEvents">
                <div class="event-timeline" id="eventTimeline">
                    <div class="event-item">
                        <span class="event-time">--:--:--</span>
                        <span class="event-icon">ğŸ“‹</span>
                        <span class="event-content">ç­‰å¾…åŠ è½½äº‹ä»¶æµ...</span>
                    </div>
                </div>
            </div>
            
            <!-- Tab 2: åŠ¨æ€æç¤ºè¯ -->
            <div class="architect-tab-content" id="architectPrompt">
                <div class="prompt-header">
                    <span class="prompt-label">å½“å‰æ¶æ„å¸ˆæç¤ºè¯</span>
                    <button class="copy-button" onclick="copyPrompt()">ğŸ“‹ å¤åˆ¶</button>
                </div>
                <div class="prompt-display" id="promptDisplay">
                    åŠ è½½ä¸­...
                </div>
            </div>
            
            <!-- Tab 3: é‡è¦ä¿¡æ¯ -->
            <div class="architect-tab-content" id="architectNotes">
                <div class="info-panel">
                    <div class="info-sidebar">
                        <div class="info-doc-list" id="infoDocList">
                            <div class="info-doc-item active" onclick="switchInfoDoc('requirements')">
                                <span class="info-doc-icon">ğŸ“</span>
                                é‡å¤§éœ€æ±‚å˜æ›´
                            </div>
                            <div class="info-doc-item" onclick="switchInfoDoc('handoff')">
                                <span class="info-doc-icon">ğŸ”„</span>
                                æ¶æ„å¸ˆäº¤æ¥
                            </div>
                            <div class="info-doc-item" onclick="switchInfoDoc('bugs')">
                                <span class="info-doc-icon">ğŸ›</span>
                                Bugè¿›åº¦æ¸…å•
                            </div>
                            <div class="info-doc-item" onclick="switchInfoDoc('decisions')">
                                <span class="info-doc-icon">ğŸ’¡</span>
                                æŠ€æœ¯å†³ç­–è®°å½•
                            </div>
                        </div>
                    </div>
                    <div class="info-content">
                        <div class="info-content-title" id="infoContentTitle">é‡å¤§éœ€æ±‚å˜æ›´</div>
                        <div class="info-content-body" id="infoContentBody">
                            åŠ è½½ä¸­...
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- UXç¡®è®¤æ¨¡å— -->
        <div class="confirmation-section" id="uxConfirmation">
            <div class="confirmation-header">
                <span class="confirmation-title">ğŸ“ UX DESIGN CONFIRMATION</span>
                <span class="confirmation-status pending" id="uxStatus">å¾…ç¡®è®¤</span>
            </div>
            
            <div class="confirmation-tabs">
                <button class="confirmation-tab active" onclick="switchConfirmationTab('ux', 'images')">æ•ˆæœå›¾</button>
                <button class="confirmation-tab" onclick="switchConfirmationTab('ux', 'prompt')">æç¤ºè¯</button>
            </div>
            
            <div class="confirmation-content">
                <!-- æ•ˆæœå›¾Tab -->
                <div class="tab-content active" id="uxImages">
                    <div class="images-grid" id="uxImagesGrid">
                        <div class="empty-state">æš‚æ— UXè®¾è®¡ï¼Œç­‰å¾…æ¶æ„å¸ˆç”Ÿæˆ...</div>
                    </div>
                </div>
                
                <!-- æç¤ºè¯Tab -->
                <div class="tab-content" id="uxPrompt" style="display: none;">
                    <div class="prompt-content" id="uxPromptContent">
                        æš‚æ— UXæç¤ºè¯
                    </div>
                </div>
            </div>
            
            <div class="confirm-button-container">
                <button class="confirm-button" id="uxConfirmBtn" onclick="confirmUX()">
                    âœ… ç¡®è®¤ UX
                </button>
            </div>
        </div>
        
        <!-- UIç¡®è®¤æ¨¡å— -->
        <div class="confirmation-section" id="uiConfirmation">
            <div class="confirmation-header">
                <span class="confirmation-title">ğŸ¨ UI DESIGN CONFIRMATION</span>
                <span class="confirmation-status pending" id="uiStatus">å¾…ç¡®è®¤</span>
            </div>
            
            <div class="confirmation-tabs">
                <button class="confirmation-tab active" onclick="switchConfirmationTab('ui', 'images')">æ•ˆæœå›¾</button>
                <button class="confirmation-tab" onclick="switchConfirmationTab('ui', 'prompt')">æç¤ºè¯</button>
            </div>
            
            <div class="confirmation-content">
                <!-- æ•ˆæœå›¾Tab -->
                <div class="tab-content active" id="uiImages">
                    <div class="images-grid" id="uiImagesGrid">
                        <div class="empty-state">æš‚æ— UIè®¾è®¡ï¼Œç­‰å¾…æ¶æ„å¸ˆç”Ÿæˆ...</div>
                    </div>
                </div>
                
                <!-- æç¤ºè¯Tab -->
                <div class="tab-content" id="uiPrompt" style="display: none;">
                    <div class="prompt-content" id="uiPromptContent">
                        æš‚æ— UIæç¤ºè¯
                    </div>
                </div>
            </div>
            
            <div class="confirm-button-container">
                <button class="confirm-button" id="uiConfirmBtn" onclick="confirmUI()">
                    âœ… ç¡®è®¤ UI
                </button>
            </div>
        </div>
        
        <!-- å›¾ç‰‡ç¯ç®±ï¼ˆç‚¹å‡»æ”¾å¤§ï¼‰ -->
        <div class="lightbox" id="lightbox" onclick="closeLightbox()">
            <button class="lightbox-close" onclick="closeLightbox()">âœ•</button>
            <img class="lightbox-image" id="lightboxImage" src="" alt="">
        </div>
    </div>
    
    <div class="update-time" id="updateTime">â€”</div>
    
    <script>
        function getStatusText(status) {{
            <div class="stat-card">
                <div class="stat-label">å¾…å¤„ç†</div>
                <div class="stat-value" id="pendingTasks">â€”</div>
                <div class="stat-meta">Pending</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">è¿›è¡Œä¸­</div>
                <div class="stat-value" id="inProgressTasks">â€”</div>
                <div class="stat-meta">In Progress</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">å·²å®Œæˆ</div>
                <div class="stat-value" id="completedTasks">â€”</div>
                <div class="stat-meta">Completed</div>
            </div>
        </div>
        
        <div class="progress-section">
            <div class="section-header">
                <span class="section-title">OVERALL PROGRESS</span>
                <span class="progress-value" id="progressValue">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%"></div>
            </div>
        </div>
        
        <div class="features-section">
            <div class="section-header">
                <span class="section-title">KEY FEATURES</span>
                <span class="stat-meta" id="featureCount">0/12 å·²å®ç°</span>
            </div>
            <div class="features-grid">
                <div class="feature-group">
                    <div class="feature-group-title">ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¡†æ¶</div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">Electron æ¡Œé¢æ¡†æ¶</span>
                            <span class="feature-description">Vite + React + TypeScript</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">LibreChat å¯¹è¯é›†æˆ</span>
                            <span class="feature-description">Webview åµŒå…¥å¯¹è¯ç•Œé¢</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">é¡¹ç›®ç®¡ç†ç³»ç»Ÿ</span>
                            <span class="feature-description">é¡¹ç›®CRUD + æœ¬åœ°å­˜å‚¨</span>
                        </div>
                    </div>
                </div>
                <div class="feature-group">
                    <div class="feature-group-title">ç¬¬äºŒé˜¶æ®µï¼šäº‘ç«¯é›†æˆ</div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">AWS SSO è®¤è¯</span>
                            <span class="feature-description">å•ç‚¹ç™»å½• + å‡­è¯ç®¡ç†</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">MCP å·¥å…·æ¡¥æ¥</span>
                            <span class="feature-description">IPC é€šä¿¡ + å·¥å…·è°ƒç”¨</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">æœ¬åœ°å·¥å…·è°ƒç”¨</span>
                            <span class="feature-description">æ–‡ä»¶ç³»ç»Ÿ + Shell å‘½ä»¤</span>
                        </div>
                    </div>
                </div>
                <div class="feature-group">
                    <div class="feature-group-title">ç¬¬ä¸‰é˜¶æ®µï¼šæ’ä»¶ä½“ç³»</div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">æ’ä»¶åŠ è½½å™¨</span>
                            <span class="feature-description">åŠ¨æ€åŠ è½½ + æ²™ç®±éš”ç¦»</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">æ ¸å¿ƒæ’ä»¶é›†</span>
                            <span class="feature-description">AWS + GitHub + Memory</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">æ’ä»¶å¸‚åœº</span>
                            <span class="feature-description">æµè§ˆ + å®‰è£… + æ›´æ–°</span>
                        </div>
                    </div>
                </div>
                <div class="feature-group">
                    <div class="feature-group-title">ç¬¬å››é˜¶æ®µï¼šé«˜çº§ç‰¹æ€§</div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">Artifacts ç³»ç»Ÿ</span>
                            <span class="feature-description">ä»£ç  + æ–‡æ¡£ + å›¾è¡¨</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">ä»»åŠ¡ç™½æ¿é›†æˆ</span>
                            <span class="feature-description">ä»»åŠ¡ç®¡ç† + å¯¹è¯å…³è”</span>
                        </div>
                    </div>
                    <div class="feature-item" data-status="pending">
                        <span class="feature-checkbox">â˜</span>
                        <div class="feature-content">
                            <span class="feature-name">å¤šçª—å£ç®¡ç†</span>
                            <span class="feature-description">å¹¶è¡Œå¼€å‘ + çŠ¶æ€åŒæ­¥</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tasks-section">
            <div class="section-header">
                <span class="section-title">TASK LIST</span>
                <span class="stat-meta" id="taskCount">0 tasks</span>
            </div>
            <div class="task-list" id="taskList">
                <div class="empty-state">Loading...</div>
            </div>
        </div>
    </div>
    
    <div class="update-time" id="updateTime">â€”</div>
    
    <script>
        function getStatusText(status) {{
            const map = {{
                'pending': 'å¾…å¤„ç†',
                'in_progress': 'è¿›è¡Œä¸­',
                'review': 'å®¡æŸ¥ä¸­',
                'completed': 'å·²å®Œæˆ',
                'failed': 'å¤±è´¥'
            }};
            return map[status.toLowerCase()] || status;
        }}
        
        function getTaskFeatures(taskId) {{
            const map = {{
                'phase1-task1': 'Electron æ¡Œé¢æ¡†æ¶',
                'phase1-task2': 'LibreChat å¯¹è¯é›†æˆ',
                'phase1-task3': 'é¡¹ç›®ç®¡ç†ç³»ç»Ÿ',
                'phase1-task4': 'å¿«æ·é”®ç³»ç»Ÿ',
                'phase2-task1': 'AWS SSO è®¤è¯',
                'phase2-task2': 'MCP å·¥å…·æ¡¥æ¥',
                'phase2-task3': 'æœ¬åœ°å·¥å…·è°ƒç”¨',
                'phase2-task4': 'æ¶ˆæ¯æ‹¦æˆªç³»ç»Ÿ',
                'phase3-task1': 'æ’ä»¶ API',
                'phase3-task2': 'æ’ä»¶åŠ è½½å™¨',
                'phase3-task3': 'æ ¸å¿ƒæ’ä»¶é›†',
                'phase3-task4': 'æ’ä»¶å¸‚åœº',
                'phase4-task1': 'Artifacts ç³»ç»Ÿ',
                'phase4-task2': 'ä»»åŠ¡ç™½æ¿é›†æˆ',
                'phase4-task3': 'å¤šçª—å£ç®¡ç†',
                'phase4-task4': 'æ€§èƒ½ä¼˜åŒ–'
            }};
            return map[taskId] || 'â€”';
        }}
        
        function getCompletionDetails(task) {{
            try {{
                if (!task.description) return '';
                const completion = JSON.parse(task.description);
                if (!completion.features_implemented) return '';
                
                return `
                    <div style="margin-top: 24px; padding-top: 24px; border-top: 1px solid #EEEEEE;">
                        <div style="font-size: 13px; font-weight: 700; color: #000000; margin-bottom: 12px; font-family: 'Microsoft YaHei';">
                            âœ“ å·²å®ç°åŠŸèƒ½æ¸…å•
                        </div>
                        <div style="display: grid; gap: 8px;">
                            ${{completion.features_implemented.map(f => `
                                <div style="font-size: 13px; color: #424242; padding-left: 20px; position: relative;">
                                    <span style="position: absolute; left: 0; color: #D32F2F; font-weight: bold;">â€¢</span>
                                    ${{f}}
                                </div>
                            `).join('')}}
                        </div>
                        ${{completion.metrics ? `
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-top: 16px; padding-top: 16px; border-top: 1px solid #F5F5F5;">
                            <div>
                                <div style="font-size: 11px; color: #9E9E9E;">ä»£ç é‡</div>
                                <div style="font-size: 14px; color: #000000; font-weight: 600;">${{completion.metrics.code_lines || 0}} è¡Œ</div>
                            </div>
                            <div>
                                <div style="font-size: 11px; color: #9E9E9E;">æ–°å»ºæ–‡ä»¶</div>
                                <div style="font-size: 14px; color: #000000; font-weight: 600;">${{completion.metrics.files_created || 0}} ä¸ª</div>
                            </div>
                            <div>
                                <div style="font-size: 11px; color: #9E9E9E;">ä¿®æ”¹æ–‡ä»¶</div>
                                <div style="font-size: 14px; color: #000000; font-weight: 600;">${{completion.metrics.files_modified || 0}} ä¸ª</div>
                            </div>
                            <div>
                                <div style="font-size: 11px; color: #9E9E9E;">å®é™…å·¥æ—¶</div>
                                <div style="font-size: 14px; color: #000000; font-weight: 600;">${{completion.metrics.actual_hours || 0}} å°æ—¶</div>
                            </div>
                        </div>
                        ` : ''}}
                    </div>
                `;
            }} catch (e) {{
                return '';
            }}
        }}
        
        async function loadData() {{
            try {{
                // åŠ è½½æ‰€æœ‰ä»»åŠ¡æ•°æ®
                const tasksRes = await fetch('/api/tasks');
                allTasksData = await tasksRes.json();
                
                // æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬çš„æ•°æ®
                switchVersion(currentVersion);
                
                const now = new Date();
                document.getElementById('updateTime').textContent = now.toLocaleTimeString('zh-CN', {{ hour12: false }});
                
            }} catch (error) {{
                console.error('Load error:', error);
            }}
        }}
        
        
        // ç‰ˆæœ¬æ•°æ®ï¼ˆæ”¯æŒåŠ¨æ€æ‰©å±•ï¼‰
        let allTasksData = [];
        let currentVersion = 'v1';
        
        const versionConfigs = {{
            'v1': {{
                name: 'ç‰ˆæœ¬ 1 - MVP',
                description: 'LibreChat Desktop é¦–ä¸ªç‰ˆæœ¬ï¼Œå®ç°æ ¸å¿ƒæ¡Œé¢æ¡†æ¶å’ŒåŸºç¡€åŠŸèƒ½',
                taskFilter: (task) => true  // ç‰ˆæœ¬1æ˜¾ç¤ºæ‰€æœ‰ä»»åŠ¡
            }},
            'v2': {{
                name: 'ç‰ˆæœ¬ 2 - æ’ä»¶ç”Ÿæ€', 
                description: 'å¼•å…¥å®Œæ•´çš„æ’ä»¶ä½“ç³»ï¼Œæ”¯æŒæ‰©å±•å’Œè‡ªå®šä¹‰ï¼ˆå¼€å‘ä¸­ï¼‰',
                taskFilter: (task) => task.id.startsWith('v2-')  // ç‰ˆæœ¬2åªæ˜¾ç¤ºv2-å¼€å¤´çš„
            }},
            'v3': {{
                name: 'ç‰ˆæœ¬ 3 - é«˜çº§ç‰¹æ€§',
                description: 'å®ç°é«˜çº§ç‰¹æ€§å’Œæ€§èƒ½ä¼˜åŒ–ï¼ˆè§„åˆ’ä¸­ï¼‰',
                taskFilter: (task) => task.id.startsWith('v3-')  // ç‰ˆæœ¬3åªæ˜¾ç¤ºv3-å¼€å¤´çš„
            }}
        }};
        
        // åˆ‡æ¢ç‰ˆæœ¬
        function switchVersion(versionId) {{
            currentVersion = versionId;
            
            // æ›´æ–°TabçŠ¶æ€
            document.querySelectorAll('.version-tab').forEach(tab => {{
                if (tab.dataset.version === versionId) {{
                    tab.classList.add('active');
                }} else {{
                    tab.classList.remove('active');
                }}
            }});
            
            // æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯
            const config = versionConfigs[versionId];
            document.getElementById('versionInfo').innerHTML = `
                <div class="version-name">${{config.name}}</div>
                <div class="version-description">${{config.description}}</div>
            `;
            
            // è¿‡æ»¤å¹¶æ˜¾ç¤ºè¯¥ç‰ˆæœ¬çš„ä»»åŠ¡
            const versionTasks = allTasksData.filter(config.taskFilter);
            displayVersionData(versionTasks);
        }}
        
        // æ˜¾ç¤ºç‰ˆæœ¬æ•°æ®
        function displayVersionData(tasks) {{
            const completed = tasks.filter(t => t.status === 'completed').length;
            const inProgress = tasks.filter(t => t.status === 'in_progress').length;
            const pending = tasks.filter(t => t.status === 'pending').length;
            const total = tasks.length;
            
            // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
            document.getElementById('totalTasks').textContent = total;
            document.getElementById('pendingTasks').textContent = pending;
            document.getElementById('inProgressTasks').textContent = inProgress;
            document.getElementById('completedTasks').textContent = completed;
            
            // æ›´æ–°è¿›åº¦æ¡
            const progress = total > 0 ? Math.round((completed / total) * 100) : 0;
            document.getElementById('progressValue').textContent = progress + '%';
            document.getElementById('progressBar').style.width = progress + '%';
            
            // æ›´æ–°ä»»åŠ¡åˆ—è¡¨
            document.getElementById('taskCount').textContent = total + ' tasks';
            
            if (total === 0) {{
                document.getElementById('taskList').innerHTML = `
                    <div class="empty-state">
                        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ“</div>
                        <div style="font-size: 16px; color: #757575; margin-bottom: 8px;">æ­¤ç‰ˆæœ¬æš‚æ— ä»»åŠ¡</div>
                        <div style="font-size: 13px; color: #BDBDBD;">ç‰ˆæœ¬ ${{currentVersion}} çš„ä»»åŠ¡å°šæœªåˆ›å»º</div>
                    </div>
                `;
            }} else {{
                document.getElementById('taskList').innerHTML = tasks.map(task => `
                    <div class="task-card">
                        <div class="task-card-header">
                            <span class="task-id">${{task.id}}</span>
                            <span class="task-status ${{task.status.toLowerCase().replace(' ', '_')}}">
                                ${{getStatusText(task.status)}}
                            </span>
                        </div>
                        <div class="task-title">${{task.title}}</div>
                        <div class="task-feature">
                            <span class="feature-label">å®ç°åŠŸèƒ½</span>
                            <span class="feature-value">${{getTaskFeatures(task.id)}}</span>
                        </div>
                        <div class="task-details">
                            <div class="detail-item">
                                <span class="detail-label">é¢„ä¼°å·¥æ—¶</span>
                                <span class="detail-value">${{task.estimated_hours || 0}} å°æ—¶</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">å¤æ‚åº¦</span>
                                <span class="detail-value">${{task.complexity || 'â€”'}}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">ä¼˜å…ˆçº§</span>
                                <span class="detail-value">${{task.priority || 'â€”'}}</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">è´Ÿè´£äºº</span>
                                <span class="detail-value">${{task.assigned_to || 'æœªåˆ†é…'}}</span>
                            </div>
                        </div>
                        ${{task.status === 'completed' ? getCompletionDetails(task) : ''}}
                    </div>
                `).join('');
            }}
            
            // æ›´æ–°åŠŸèƒ½æ¸…å•ï¼ˆç®€åŒ–ç‰ˆï¼Œå®é™…åº”è¯¥æ ¹æ®ç‰ˆæœ¬é…ç½®ï¼‰
            const featureCompleted = Math.floor(completed / 4 * 3);
            document.getElementById('featureCount').textContent = `${{featureCompleted}}/12 å·²å®ç°`;
        }}
        
        // ç»‘å®šTabç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.version-tab').forEach(tab => {{
            tab.addEventListener('click', function() {{
                switchVersion(this.dataset.version);
            }});
        }});
        
        // ===== æ¶æ„å¸ˆæ¨¡å—äº¤äº’ =====
        
        // Tabåˆ‡æ¢
        function switchArchitectTab(tab) {{
            const tabs = ['events', 'prompt', 'notes'];
            const buttons = document.querySelectorAll('.architect-tab');
            
            tabs.forEach((t, index) => {{
                const content = document.getElementById(`architect${{t.charAt(0).toUpperCase() + t.slice(1)}}`);
                if (t === tab) {{
                    content.classList.add('active');
                    buttons[index].classList.add('active');
                }} else {{
                    content.classList.remove('active');
                    buttons[index].classList.remove('active');
                }}
            }});
        }}
        
        // å¤åˆ¶æç¤ºè¯
        function copyPrompt() {{
            const promptText = document.getElementById('promptDisplay').textContent;
            navigator.clipboard.writeText(promptText).then(() => {{
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'âœ… å·²å¤åˆ¶';
                setTimeout(() => {{
                    btn.textContent = originalText;
                }}, 2000);
            }});
        }}
        
        // åˆ‡æ¢é‡è¦ä¿¡æ¯æ–‡æ¡£
        function switchInfoDoc(docId) {{
            const items = document.querySelectorAll('.info-doc-item');
            items.forEach(item => item.classList.remove('active'));
            event.target.closest('.info-doc-item').classList.add('active');
            
            // åŠ è½½å¯¹åº”æ–‡æ¡£å†…å®¹
            loadInfoDoc(docId);
        }}
        
        // åŠ è½½æ¶æ„å¸ˆæ•°æ®
        async function loadArchitectData() {{
            try {{
                const response = await fetch('/api/architect_monitor');
                const data = await response.json();
                
                // æ›´æ–°Tokenä¿¡æ¯
                if (data.token_usage) {{
                    const used = data.token_usage.used;
                    const total = data.token_usage.total;
                    const percent = ((used / total) * 100).toFixed(1);
                    
                    document.getElementById('tokenUsed').textContent = used.toLocaleString();
                    document.getElementById('tokenPercent').textContent = percent;
                    
                    // Token<20%æ—¶å˜çº¢
                    const tokenInfo = document.getElementById('tokenInfo');
                    if (percent < 20) {{
                        tokenInfo.classList.add('warning');
                    }} else {{
                        tokenInfo.classList.remove('warning');
                    }}
                }}
                
                // æ›´æ–°çŠ¶æ€
                if (data.status) {{
                    document.getElementById('architectStatusText').textContent = data.status.text;
                    document.getElementById('architectTasksCount').textContent = 
                        `å·²å®¡æŸ¥ ${{data.status.reviewed_count || 0}} ä¸ªä»»åŠ¡`;
                }}
                
                // æ›´æ–°äº‹ä»¶æµ
                if (data.events && data.events.length > 0) {{
                    renderEventTimeline(data.events);
                }}
                
                // æ›´æ–°æç¤ºè¯
                if (data.prompt) {{
                    document.getElementById('promptDisplay').textContent = data.prompt;
                }}
                
                // æ›´æ–°æœ€åæ›´æ–°æ—¶é—´
                document.getElementById('lastUpdate').textContent = 
                    new Date().toLocaleTimeString('zh-CN', {{hour12: false}});
                    
            }} catch (error) {{
                console.error('åŠ è½½æ¶æ„å¸ˆæ•°æ®å¤±è´¥:', error);
            }}
        }}
        
        // æ¸²æŸ“äº‹ä»¶æµ
        function renderEventTimeline(events) {{
            const timeline = document.getElementById('eventTimeline');
            
            if (!events || events.length === 0) {{
                timeline.innerHTML = `
                    <div class="event-item">
                        <span class="event-time">--:--:--</span>
                        <span class="event-icon">ğŸ“‹</span>
                        <span class="event-content">æš‚æ— äº‹ä»¶è®°å½•</span>
                    </div>
                `;
                return;
            }}
            
            // å€’åºæ˜¾ç¤ºï¼ˆæœ€æ–°çš„åœ¨ä¸Šé¢ï¼‰
            const sortedEvents = [...events].reverse();
            
            timeline.innerHTML = sortedEvents.map(event => `
                <div class="event-item">
                    <span class="event-time">${{event.time}}</span>
                    <span class="event-icon">${{event.icon}}</span>
                    <span class="event-content">${{event.content}}</span>
                </div>
            `).join('');
        }}
        
        // åŠ è½½é‡è¦ä¿¡æ¯æ–‡æ¡£
        async function loadInfoDoc(docId) {{
            try {{
                const response = await fetch(`/api/architect_info/${{docId}}`);
                const data = await response.json();
                
                document.getElementById('infoContentTitle').textContent = data.title;
                document.getElementById('infoContentBody').textContent = data.content;
            }} catch (error) {{
                console.error('åŠ è½½æ–‡æ¡£å¤±è´¥:', error);
            }}
        }}
        
        window.onload = function() {{
            loadData();
            setInterval(loadData, 10000);
            loadConfirmationData();
            setInterval(loadConfirmationData, 30000);
            loadArchitectData();
            loadInfoDoc('requirements');  // é»˜è®¤åŠ è½½ç¬¬ä¸€ä¸ªæ–‡æ¡£
            setInterval(loadArchitectData, 20000);  // æ¯20ç§’åˆ·æ–°æ¶æ„å¸ˆæ•°æ®
        }};
        
        // Tabåˆ‡æ¢
        function switchConfirmationTab(type, tab) {{
            const imagesTab = document.getElementById(`${{type}}Images`);
            const promptTab = document.getElementById(`${{type}}Prompt`);
            const buttons = document.querySelectorAll(`#${{type}}Confirmation .confirmation-tab`);
            
            if (tab === 'images') {{
                imagesTab.style.display = 'block';
                promptTab.style.display = 'none';
                buttons[0].classList.add('active');
                buttons[1].classList.remove('active');
            }} else {{
                imagesTab.style.display = 'none';
                promptTab.style.display = 'block';
                buttons[0].classList.remove('active');
                buttons[1].classList.add('active');
            }}
        }}
        
        // å›¾ç‰‡ç‚¹å‡»æ”¾å¤§
        function openLightbox(imageSrc) {{
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightboxImage');
            lightboxImage.src = imageSrc;
            lightbox.classList.add('active');
        }}
        
        function closeLightbox() {{
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
        }}
        
        // ç¡®è®¤UX
        function confirmUX() {{
            if (confirm('ç¡®è®¤é€šè¿‡UXè®¾è®¡ï¼Ÿ')) {{
                fetch('/api/confirm_ux', {{
                    method: 'POST'
                }}).then(response => response.json())
                  .then(data => {{
                      if (data.success) {{
                          document.getElementById('uxStatus').textContent = 'å·²ç¡®è®¤';
                          document.getElementById('uxStatus').classList.remove('pending');
                          document.getElementById('uxStatus').classList.add('approved');
                          document.getElementById('uxConfirmBtn').disabled = true;
                          alert('âœ… UXè®¾è®¡å·²ç¡®è®¤ï¼');
                      }}
                  }}).catch(error => {{
                      console.error('ç¡®è®¤å¤±è´¥:', error);
                      alert('ç¡®è®¤å¤±è´¥ï¼Œè¯·é‡è¯•');
                  }});
            }}
        }}
        
        // ç¡®è®¤UI
        function confirmUI() {{
            if (confirm('ç¡®è®¤é€šè¿‡UIè®¾è®¡ï¼Ÿ')) {{
                fetch('/api/confirm_ui', {{
                    method: 'POST'
                }}).then(response => response.json())
                  .then(data => {{
                      if (data.success) {{
                          document.getElementById('uiStatus').textContent = 'å·²ç¡®è®¤';
                          document.getElementById('uiStatus').classList.remove('pending');
                          document.getElementById('uiStatus').classList.add('approved');
                          document.getElementById('uiConfirmBtn').disabled = true;
                          alert('âœ… UIè®¾è®¡å·²ç¡®è®¤ï¼');
                      }}
                  }}).catch(error => {{
                      console.error('ç¡®è®¤å¤±è´¥:', error);
                      alert('ç¡®è®¤å¤±è´¥ï¼Œè¯·é‡è¯•');
                  }});
            }}
        }}
        
        // åŠ è½½UX/UIæ•°æ®
        async function loadConfirmationData() {{
            try {{
                // åŠ è½½UXæ•°æ®
                const uxResponse = await fetch('/api/ux_confirmation');
                const uxData = await uxResponse.json();
                
                if (uxData.images && uxData.images.length > 0) {{
                    renderImages('ux', uxData.images);
                }}
                
                if (uxData.prompt) {{
                    document.getElementById('uxPromptContent').textContent = uxData.prompt;
                }}
                
                if (uxData.status === 'approved') {{
                    document.getElementById('uxStatus').textContent = 'å·²ç¡®è®¤';
                    document.getElementById('uxStatus').classList.remove('pending');
                    document.getElementById('uxStatus').classList.add('approved');
                    document.getElementById('uxConfirmBtn').disabled = true;
                }}
                
                // åŠ è½½UIæ•°æ®
                const uiResponse = await fetch('/api/ui_confirmation');
                const uiData = await uiResponse.json();
                
                if (uiData.images && uiData.images.length > 0) {{
                    renderImages('ui', uiData.images);
                }}
                
                if (uiData.prompt) {{
                    document.getElementById('uiPromptContent').textContent = uiData.prompt;
                }}
                
                if (uiData.status === 'approved') {{
                    document.getElementById('uiStatus').textContent = 'å·²ç¡®è®¤';
                    document.getElementById('uiStatus').classList.remove('pending');
                    document.getElementById('uiStatus').classList.add('approved');
                    document.getElementById('uiConfirmBtn').disabled = true;
                }}
            }} catch (error) {{
                console.error('åŠ è½½ç¡®è®¤æ•°æ®å¤±è´¥:', error);
            }}
        }}
        
        // æ¸²æŸ“å›¾ç‰‡
        function renderImages(type, images) {{
            const grid = document.getElementById(`${{type}}ImagesGrid`);
            
            if (!images || images.length === 0) {{
                grid.innerHTML = '<div class="empty-state">æš‚æ— è®¾è®¡å›¾</div>';
                return;
            }}
            
            grid.innerHTML = images.map(img => `
                <div class="image-item" onclick="openLightbox('${{img.url}}')">
                    <img class="image-preview" src="${{img.url}}" alt="${{img.label}}" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'100\\' height=\\'100\\'%3E%3Crect fill=\\'%23E0E0E0\\' width=\\'100\\' height=\\'100\\'/%3E%3Ctext x=\\'50%25\\' y=\\'50%25\\' text-anchor=\\'middle\\' dy=\\'.3em\\' fill=\\'%239E9E9E\\' font-size=\\'12\\'%3Eå›¾ç‰‡åŠ è½½å¤±è´¥%3C/text%3E%3C/svg%3E'">
                    <div class="image-label">${{img.label}}</div>
                </div>
            `).join('');
        }}
    </script>
</body>
</html>
    """
