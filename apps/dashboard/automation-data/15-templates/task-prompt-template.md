# 📋 单次任务提示词模板

**用途**: 每次派任务给全栈工程师时使用  
**版本**: v1.0  
**更新时间**: 2025-11-18

---

## 🎯 使用方法

### Step 1: 复制模板
复制下面的模板

### Step 2: 填写任务信息
填写【】标记的占位符

### Step 3: 发送给AI
在Cursor中@全栈工程师Prompt，然后粘贴填好的任务

---

## 📝 任务提示词模板

```markdown
# 【任务所·Flow】全栈开发任务说明

**任务接收人**：全栈工程师·李明  
**任务分配人**：【总架构师/产品经理】  
**项目名称**：【填写项目名，如：任务所·Flow】

---

## 📌 重要提醒

你已经有一份系统级的「满级全栈工程师·任务所Flow专用」规范（System Prompt）。

在开始执行本任务前，请你**默认遵守那份规范中的工作流程和质量标准**：

1. ✅ 先做任务理解 & 前置条件自查
   - 自动查阅项目文件/文档/记忆
   - 确认依赖是否就绪
   
2. ✅ 再进行实现、测试、自查
   - 遵循Clean Code原则
   - 编写测试
   - 自我QA

3. ✅ 最后输出「任务完成总结报告」
   - 说明实现内容
   - 列出文件清单
   - 测试和验证结果
   - 并说明已呈送给【总架构师】

---

## 🎯 本次任务内容

### 任务ID
【填写任务ID，如：ARCH-007】

### 任务来源
【填写来源，例如：】
- 来自【总架构师】在`docs/tasks/task-board.md`中的任务拆解
- 或：来自【产品经理】的需求
- 或：来自Bug修复需求

### 任务目标
【用1-2句话说明这次要实现什么，例如：】

为任务所·Flow的后端API新增「获取任务依赖图」接口，
并在Dashboard上增加一个「依赖关系视图」Tab。

### 背景信息
【提供必要的上下文，例如：】

- 当前已有的组件/模块：
  - Task模型和依赖关系表
  - DependencyAnalyzer模块（在`packages/algorithms/`）
  - Dashboard使用原生JS + Tab切换机制

- 当前的痛点/需求：
  - 用户想可视化查看任务依赖关系
  - 方便识别阻塞和关键路径

---

## 📊 期望产出（架构师的初步规划）

【列出期望的产出，可以让全栈工程师refine】

### 后端
- [ ] 新增API端点：`GET /api/tasks/{task_id}/dependency-graph`
- [ ] 调用DependencyAnalyzer生成依赖图
- [ ] 返回JSON格式（树形或邻接表）
- [ ] 位置：`apps/api/src/routes/tasks.py`

### 前端
- [ ] 新增「依赖关系」Tab（在任务详情页）
- [ ] 树形或图形化展示依赖
- [ ] 标注循环依赖（如有）
- [ ] 位置：`apps/dashboard/src/components/`

### 测试
- [ ] 单元测试：依赖图生成逻辑
- [ ] API测试：端点响应格式
- [ ] 位置：`tests/unit/`, `tests/integration/`

### 文档
- [ ] 更新API文档：`docs/api/tasks-api.md`
- [ ] 更新任务板状态：`docs/tasks/task-board.md`

---

## 🎨 设计约束/偏好（如有）

【如果有特定要求，在这里说明】

- **性能要求**：响应时间<500ms
- **UI风格**：与现有Dashboard保持一致（黑白红配色）
- **技术栈**：后端用FastAPI，前端用原生JS（不引入新框架）
- **优先级**：正确性优先，性能其次
- **其他**：【自定义】

---

## ⚠️ 特别说明（如有）

【如果有需要特别注意的点】

- 本次任务更重视：【例如「快速实现MVP」「代码质量」「性能优化」】
- 如果你在前置条件自查过程中，发现设计层面有更合理的实现方式，
  👉 **欢迎在完成总结报告中提出你的优化建议**，
  👉 甚至可以**温和地挑战总架构师的原始设计**（如果你有充分理由）

---

## ✅ 开始执行

李明，这个任务交给你了。

请按照你的「满级全栈工程师」规范：
1. 先做任务理解和前置自查
2. 确认无阻碍后开始实现
3. 实现过程保持Clean Code
4. 完成后自测
5. 最后提交完整的总结报告

**期待你的高质量交付！** 💪
```

---

## 📊 模板变量说明

| 占位符 | 说明 | 示例 |
|--------|------|------|
| 【项目名称】 | 项目的名称 | 任务所·Flow |
| 【总架构师/产品经理】 | 任务分配人 | 总架构师 |
| 【ARCH-007】 | 任务ID | ARCH-007 |
| 【填写...】 | 具体任务内容 | 实现依赖图功能 |

---

## 💡 使用示例

### 场景1：架构师派任务

```markdown
# 【任务所·Flow】全栈开发任务说明

**任务接收人**：全栈工程师·李明  
**任务分配人**：总架构师  
**项目名称**：任务所·Flow v1.7

---

## 任务ID
ARCH-008

### 任务目标
为任务所·Flow实现项目和组件管理API

### 背景信息
- v1.7已完成知识库数据库（12个表）
- projects和components表已创建
- 需要API来CRUD这些实体

## 期望产出

### 后端
- [ ] GET /api/projects - 列出项目
- [ ] POST /api/projects - 创建项目
- [ ] GET /api/projects/{id}/components - 列出组件
- [ ] POST /api/components - 创建组件

### 测试
- [ ] 单元测试覆盖CRUD
- [ ] 集成测试覆盖API端点

### 文档
- [ ] 更新docs/api/projects-api.md

## 设计约束
- 使用Pydantic模型
- Repository模式
- RESTful规范

李明，交给你了！
```

---

## 🔧 高级用法

### 技巧1：引用已有任务

```markdown
## 本次任务内容

任务来源：来自`docs/tasks/task-board.md`中的任务**ARCH-007**

请直接查阅任务板了解详细要求，我这里只补充几点：
- 【补充说明1】
- 【补充说明2】
```

### 技巧2：指定重点

```markdown
## 本次任务重点

这个任务我特别关注：
1. **代码质量**：这是核心模块，必须写得很干净
2. **测试覆盖**：要求80%+覆盖率
3. **性能**：响应时间必须<100ms

其他方面可以标准化处理。
```

### 技巧3：给予自由度

```markdown
## 实现自由度

关于具体实现方式，我给你一定自由度：
- UI设计：你可以自己设计合理的交互
- 数据结构：选择最合适的格式
- 技术选型：在既定技术栈内可以选择

如果你有更好的想法，在总结报告中提出即可。
```

---

**模板版本**：v1.0  
**最后更新**：2025-11-18  
**维护人**：架构团队

📋 **这是标准的任务派发模板 - 清晰高效！**

