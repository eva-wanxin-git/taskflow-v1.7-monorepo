# 📖 任务所·Flow v1.7 - 快速使用指南

## 🚀 一键启动

### 方式1: 使用启动脚本（推荐）
**双击运行**: `🚀启动任务所.bat`

这会自动：
1. ✅ 启动Dashboard (任务看板)
2. ✅ 自动打开浏览器访问 http://localhost:8871

---

### 方式2: 手动启动Dashboard
```bash
cd apps/dashboard
python start_dashboard.py
```

然后打开浏览器访问: http://localhost:8871

---

## 📊 Dashboard功能

打开后您可以看到：

### 1. **功能清单**模块
- ✅ **已实现功能**: 6个完成的功能
- ⚠️ **部分实现功能**: 4个半成品
- 🔴 **冲突/建议取舍**: 2个Critical问题

### 2. **待完成的功能清单**模块
- 📋 显示5个待处理任务
- 🔴 3个P0任务（紧急）
- 🟡 2个P2任务（可延后）

### 3. **架构师监控**模块
- 📊 Token使用情况
- 📝 架构师事件流
- 💬 对话记录

### 4. **其他模块**
- UX/UI确认
- 代码管家
- 测试工程师
- 运维SRE

---

## ⚠️ 当前限制

### API服务未实现
- **文件缺失**: `apps/api/src/main.py`
- **影响**: 架构师AI无法通过API提交分析结果
- **解决**: 需要完成 **TASK-C-1** 任务

### 什么能用
✅ Dashboard可视化面板 - **完全可用**
✅ 任务数据库查询 - **完全可用**
✅ 功能清单展示 - **完全可用**
✅ 依赖关系图 - **完全可用**

### 什么不能用
❌ 架构师API (POST /api/architect/analysis) - **需要TASK-C-1**
❌ 架构师分析自动入库 - **需要TASK-C-2**

---

## 🎯 下一步建议

### 如果您只想查看任务和进度
- ✅ **当前状态已够用**
- 直接使用Dashboard查看即可
- 无需做任何修改

### 如果您想让架构师AI能自动写入数据
- ⚠️ **需要完成Phase C**
- TASK-C-1: 创建API入口 (2小时)
- TASK-C-2: 集成数据库 (3小时)
- TASK-C-3: E2E测试 (1.5小时)

---

## 📁 重要文件位置

### 启动脚本
- **一键启动**: `🚀启动任务所.bat`
- **Dashboard启动**: `apps/dashboard/start_dashboard.py`

### 文档
- **架构审查报告**: `docs/arch/architecture-review.md`
- **任务看板**: `docs/tasks/task-board.md`
- **使用指南**: `📖快速使用指南.md`（本文件）

### 数据库
- **数据库文件**: `database/data/tasks.db`
- **任务数据**: 5个任务已录入
- **查看工具**: `check_db.py`, `test_dashboard_data.py`

### AI Prompts
- **架构师**: `docs/ai/architect-system-prompt-expert.md`
- **全栈工程师**: `docs/ai/fullstack-engineer-system-prompt.md`
- **代码管家**: `docs/ai/code-steward-system-prompt.md`
- **SRE**: `docs/ai/sre-system-prompt.md`

---

## 🔧 常见问题

### Q1: Dashboard显示空白怎么办？
**A**: 
1. 强制刷新浏览器 (Ctrl+F5)
2. 检查端口8871是否被占用
3. 查看启动窗口是否有错误信息

### Q2: 如何停止服务？
**A**: 
- 关闭启动时弹出的命令窗口
- 或按 Ctrl+C 停止

### Q3: 可以修改端口吗？
**A**: 
- 编辑 `apps/dashboard/start_dashboard.py`
- 修改第35行的 `port = 8871`

### Q4: 如何添加新任务？
**A**: 
- 方式1: 直接修改数据库 (用`create_v17_tasks.py`类似脚本)
- 方式2: 完成Phase C后，通过API添加

### Q5: Dashboard会自动刷新吗？
**A**: 
- 会！每30秒自动刷新数据
- 无需手动刷新页面

---

## 💡 使用建议

### 日常使用流程

1. **启动服务**
   ```bash
   双击: 🚀启动任务所.bat
   ```

2. **查看任务**
   - 打开 http://localhost:8871
   - 查看"待完成的功能清单"模块
   - 查看任务优先级和依赖关系

3. **执行任务**
   - 在Cursor中打开相关文件
   - 参考任务看板执行
   - 完成后手动更新数据库

4. **查看进度**
   - Dashboard自动刷新显示最新状态
   - 统计数据实时更新

---

## 📞 获取帮助

### 文档资源
- **架构审查**: 查看 `docs/arch/architecture-review.md` 了解项目状态
- **任务详情**: 查看 `docs/tasks/task-board.md` 了解任务细节
- **AI协作**: 查看 `docs/ai/` 了解AI角色和工作流

### 调试工具
- **检查数据库**: `python check_db.py`
- **测试数据读取**: `python test_dashboard_data.py`
- **查看端口**: `netstat -ano | findstr 8871`

---

## 🎊 总结

**一句话**: 双击 `🚀启动任务所.bat`，打开浏览器，就能看到所有任务和进度！

**核心价值**: 
- ✅ 可视化任务管理
- ✅ 实时进度追踪
- ✅ 依赖关系展示
- ✅ 架构师审查结果

**下一步**: 
- 如果只看不写 → 当前已够用
- 如果要完整功能 → 完成Phase C (6.5小时)

---

**最后更新**: 2025-11-18  
**Dashboard版本**: v1.7  
**端口**: 8871

🎉 **开始使用任务所·Flow吧！**

